@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = ViewBag.ArtistName;
    int counter = 1;
}

@if (Model == null) {
    <div class="container">
        <p>Error: Artist not found</p>
    </div>
} else {

    @section scripts {
        <script src="~/Content/js/MusicPlayer.js"></script>
        <script src="~/Content/js/FavoriteTrack.js"></script>
    }

    @section head {
        <link rel="stylesheet" href="~/Content/css/profile.css" /> 
    }

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 hidden-xs">

                <div class="profile-box">
                    <img id="artistImage" class="img-circle" height="180" width="180" src="@ViewBag.ArtistImage" />
                    <a title="YouTube">
                        <span class="fa-stack fa-2x">
                            <i style="color:white;" class="fa fa-circle fa-stack-2x icon-background2"></i>
                            <i style="color:#cc181e;" class="fa fa-youtube fa-stack-1x" aria-hidden="true"></i>
                        </span>
                    </a>
                    <a title="Spotify" target="_blank" href="@ViewBag.SpotifyURL">
                        <span class="fa-stack fa-2x">
                            <i style="color:white;" class="fa fa-circle fa-stack-2x icon-background2"></i>
                            <i style="color:#84bd00;" class="fa fa-spotify fa-stack-1x" aria-hidden="true"></i>
                        </span>
                    </a>
                    <a title="Wikipedia" target="_blank" href="@ViewBag.WikipediaURL">
                        <span class="fa-stack fa-2x">
                            <i style="color:white;" class="fa fa-circle fa-stack-2x icon-background2"></i>
                            <i style="color:black;font-size:0.8em;" class="fa fa-wikipedia-w fa-stack-1x" aria-hidden="true"></i>
                        </span>
                    </a>
                    <!--
                    <a title="Deezer">
                        <span class="fa-stack fa-2x" style="border-radius:50%;">
                            <i style="color:white;" class="fa fa-circle fa-stack-2x icon-background2"></i>
                            <i style="color:#2da5d3;" class="fa fa-music fa-stack-1x" aria-hidden="true"></i>                    
                        </span>
                    </a>
                    -->
                </div>
            </div>
        </div>
    </div> <!--./container-fluid -->

    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <h1 style="margin-top:20%;">@ViewBag.ArtistName</h1>
                @if (!String.IsNullOrEmpty(ViewBag.WikiActicle)) {
                    <p id="articleInfo">@ViewBag.WikiActicle</p>
                    <a data-toggle="modal" data-target="#modalDescription">Read More...</a>
                }
                <h4 id="parentTitle">Top Tracks</h4>
                <h6>Brought to you by Spotify</h6>
                <table id="topTracks" class="table" style="border:none;">
                    <tbody>
                        @foreach (var track in Model)
                        {
                            <tr>
                                <td><span class="trackNo">@(counter++)</span></td>
                                <td id="trackName"><a href="@track.preview_url">@track.name</a></td>
                                <td><a target="_blank" style="color:#dc2020!important;" href="@track.youtubeUrl"><i class="fa fa-youtube-play" aria-hidden="true"></i></a></td>
                                <td><i class="fa fa-list" title="Lyrics for @track.name" aria-hidden="true"></i></td>
                                <td>
                                    <span class="change-icon" style="color:pink;">
                                        <i class="fa fa-heart-o" aria-hidden="true"></i>
                                        <i class="fa fa-heart" aria-hidden="true"></i>
                                    </span>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <div class="col-md-7">
                <h4 id="parentTitle">@ViewBag.Artist Albums</h4>
                <h6>All Albums</h6>
                <div class="albums">
                    @foreach (var album in ViewBag.Albums)
                    {
                        <a id="albumObj" class="thumbnail" href="@Url.Action("Album", "Profile", new { albumId = album.id })">
                            <img class="img-responsive" height="180" width="180" src="@album.images[0].url" alt="Album" />
                            <p>@album.name</p>  
                        </a>       

                    }
                </div>
            </div>
        </div>
    </div>

    <!-- AUDIO PLAYA -->
    <div class="audioPlayer">    
        <div class="container-fluid">  
        <div class="clearfix">
            <div class="pull-left">
                <a id="btnPrev"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                <img width="110" height="110" src="https://cdn3.iconfinder.com/data/icons/music-and-sound/512/vinyl_disc_audio_record_dj_gramophone_album_flat_icon-512.png" />
                <a id="btnNext"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
            </div>
            <p id="npAction">Paused...</p>
            <p id="npTitle">&nbsp;</p>
            <audio src="" controls id="audioPlayer">
                Sorry, your browser does not support HTML5
            </audio>
        </div>
        </div> <!-- /.container -->
    </div> <!-- /.audioPlayer -->

    <!-- Modal -->
    <div id="modalDescription" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">@ViewBag.ArtistName</h4>
                </div>
                <div class="modal-body">
                    <p>@ViewBag.WikiActicle</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

}
